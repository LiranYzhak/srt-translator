{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Liran\\\\.cursor-tutor\\\\SRT-Translator\\\\src\\\\components\\\\FileUploader.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { uploadFile, getFiles } from '../client';\nimport styles from './FileUploader.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FileUploader() {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [files, setFiles] = useState([]);\n  useEffect(() => {\n    loadFiles();\n  }, []);\n  const loadFiles = async () => {\n    try {\n      const data = await getFiles();\n      setFiles(data);\n    } catch (error) {\n      console.error('שגיאה בטעינת הקבצים:', error);\n    }\n  };\n  const handleFileUpload = async event => {\n    const file = event.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      setMessage('');\n      setIsLoading(true);\n      try {\n        await uploadFile(file);\n        setMessage('הקובץ הועלה בהצלחה!');\n        loadFiles(); // טעינה מחדש של רשימת הקבצים\n      } catch (error) {\n        setMessage('שגיאה בהעלאת הקובץ: ' + error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \".srt\",\n      onChange: handleFileUpload,\n      id: \"file-upload\",\n      className: styles.fileInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"file-upload\",\n      className: styles.uploadButton,\n      children: isLoading ? 'מעלה...' : 'בחר קובץ SRT'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), selectedFile && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.fileName,\n      children: selectedFile.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.loader\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: message.includes('שגיאה') ? styles.error : styles.success,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), files.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.filesList,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u05E7\\u05D1\\u05E6\\u05D9\\u05DD \\u05E9\\u05D4\\u05D5\\u05E2\\u05DC\\u05D5:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: files.map(file => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [file.name, \" (\", new Date(file.created_at).toLocaleString(), \")\"]\n        }, file.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(FileUploader, \"Hfw9eCoFa+hqZovMt0FgX7oBids=\");\n_c = FileUploader;\nexport default FileUploader;\nvar _c;\n$RefreshReg$(_c, \"FileUploader\");","map":{"version":3,"names":["useState","useEffect","uploadFile","getFiles","styles","jsxDEV","_jsxDEV","FileUploader","_s","isLoading","setIsLoading","message","setMessage","selectedFile","setSelectedFile","files","setFiles","loadFiles","data","error","console","handleFileUpload","event","file","target","className","container","children","type","accept","onChange","id","fileInput","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","uploadButton","name","loader","includes","success","length","filesList","map","Date","created_at","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/Liran/.cursor-tutor/SRT-Translator/src/components/FileUploader.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { uploadFile, getFiles } from '../client'\r\nimport styles from './FileUploader.module.css'\r\n\r\nfunction FileUploader() {\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n  const [selectedFile, setSelectedFile] = useState(null)\r\n  const [files, setFiles] = useState([])\r\n\r\n  useEffect(() => {\r\n    loadFiles()\r\n  }, [])\r\n\r\n  const loadFiles = async () => {\r\n    try {\r\n      const data = await getFiles()\r\n      setFiles(data)\r\n    } catch (error) {\r\n      console.error('שגיאה בטעינת הקבצים:', error)\r\n    }\r\n  }\r\n\r\n  const handleFileUpload = async (event) => {\r\n    const file = event.target.files[0]\r\n    if (file) {\r\n      setSelectedFile(file)\r\n      setMessage('')\r\n      setIsLoading(true)\r\n      \r\n      try {\r\n        await uploadFile(file)\r\n        setMessage('הקובץ הועלה בהצלחה!')\r\n        loadFiles() // טעינה מחדש של רשימת הקבצים\r\n      } catch (error) {\r\n        setMessage('שגיאה בהעלאת הקובץ: ' + error.message)\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <input \r\n        type=\"file\" \r\n        accept=\".srt\" \r\n        onChange={handleFileUpload}\r\n        id=\"file-upload\"\r\n        className={styles.fileInput}\r\n      />\r\n      <label htmlFor=\"file-upload\" className={styles.uploadButton}>\r\n        {isLoading ? 'מעלה...' : 'בחר קובץ SRT'}\r\n      </label>\r\n      \r\n      {selectedFile && !isLoading && (\r\n        <div className={styles.fileName}>\r\n          {selectedFile.name}\r\n        </div>\r\n      )}\r\n      \r\n      {isLoading && (\r\n        <div className={styles.loader}></div>\r\n      )}\r\n      \r\n      {message && (\r\n        <div className={message.includes('שגיאה') ? styles.error : styles.success}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      {files.length > 0 && (\r\n        <div className={styles.filesList}>\r\n          <h3>קבצים שהועלו:</h3>\r\n          <ul>\r\n            {files.map(file => (\r\n              <li key={file.id}>\r\n                {file.name} ({new Date(file.created_at).toLocaleString()})\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FileUploader"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}