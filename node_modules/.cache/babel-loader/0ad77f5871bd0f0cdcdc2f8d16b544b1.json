{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Liran\\\\.cursor-tutor\\\\srt-translator\\\\src\\\\components\\\\FileUploader.js\";\nimport { useState, useEffect } from 'react';\nimport { uploadFile, getFiles } from '../client';\nimport styles from './FileUploader.module.css';\nfunction FileUploader() {\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [files, setFiles] = useState([]);\n  useEffect(() => {\n    loadFiles();\n  }, []);\n  const loadFiles = async () => {\n    try {\n      const data = await getFiles();\n      setFiles(data);\n    } catch (error) {\n      console.error('שגיאה בטעינת הקבצים:', error);\n    }\n  };\n  const handleFileUpload = async event => {\n    const file = event.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      setMessage('');\n      setIsLoading(true);\n      try {\n        await uploadFile(file);\n        setMessage('הקובץ הועלה בהצלחה!');\n        loadFiles(); // טעינה מחדש של רשימת הקבצים\n      } catch (error) {\n        setMessage('שגיאה בהעלאת הקובץ: ' + error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \".srt\",\n    onChange: handleFileUpload,\n    id: \"file-upload\",\n    className: styles.fileInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"file-upload\",\n    className: styles.uploadButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, isLoading ? 'מעלה...' : 'בחר קובץ SRT'), selectedFile && !isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.fileName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, selectedFile.name), isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.loader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), message && /*#__PURE__*/React.createElement(\"div\", {\n    className: message.includes('שגיאה') ? styles.error : styles.success,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, message), files.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.filesList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"\\u05E7\\u05D1\\u05E6\\u05D9\\u05DD \\u05E9\\u05D4\\u05D5\\u05E2\\u05DC\\u05D5:\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, files.map(file => /*#__PURE__*/React.createElement(\"li\", {\n    key: file.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, file.name, \" (\", new Date(file.created_at).toLocaleString(), \")\")))));\n}\nexport default FileUploader;","map":{"version":3,"names":["useState","useEffect","uploadFile","getFiles","styles","FileUploader","isLoading","setIsLoading","message","setMessage","selectedFile","setSelectedFile","files","setFiles","loadFiles","data","error","console","handleFileUpload","event","file","target","React","createElement","className","container","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","id","fileInput","htmlFor","uploadButton","name","loader","includes","success","length","filesList","map","key","Date","created_at","toLocaleString"],"sources":["C:/Users/Liran/.cursor-tutor/srt-translator/src/components/FileUploader.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { uploadFile, getFiles } from '../client'\r\nimport styles from './FileUploader.module.css'\r\n\r\nfunction FileUploader() {\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n  const [selectedFile, setSelectedFile] = useState(null)\r\n  const [files, setFiles] = useState([])\r\n\r\n  useEffect(() => {\r\n    loadFiles()\r\n  }, [])\r\n\r\n  const loadFiles = async () => {\r\n    try {\r\n      const data = await getFiles()\r\n      setFiles(data)\r\n    } catch (error) {\r\n      console.error('שגיאה בטעינת הקבצים:', error)\r\n    }\r\n  }\r\n\r\n  const handleFileUpload = async (event) => {\r\n    const file = event.target.files[0]\r\n    if (file) {\r\n      setSelectedFile(file)\r\n      setMessage('')\r\n      setIsLoading(true)\r\n      \r\n      try {\r\n        await uploadFile(file)\r\n        setMessage('הקובץ הועלה בהצלחה!')\r\n        loadFiles() // טעינה מחדש של רשימת הקבצים\r\n      } catch (error) {\r\n        setMessage('שגיאה בהעלאת הקובץ: ' + error.message)\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <input \r\n        type=\"file\" \r\n        accept=\".srt\" \r\n        onChange={handleFileUpload}\r\n        id=\"file-upload\"\r\n        className={styles.fileInput}\r\n      />\r\n      <label htmlFor=\"file-upload\" className={styles.uploadButton}>\r\n        {isLoading ? 'מעלה...' : 'בחר קובץ SRT'}\r\n      </label>\r\n      \r\n      {selectedFile && !isLoading && (\r\n        <div className={styles.fileName}>\r\n          {selectedFile.name}\r\n        </div>\r\n      )}\r\n      \r\n      {isLoading && (\r\n        <div className={styles.loader}></div>\r\n      )}\r\n      \r\n      {message && (\r\n        <div className={message.includes('שגיאה') ? styles.error : styles.success}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      {files.length > 0 && (\r\n        <div className={styles.filesList}>\r\n          <h3>קבצים שהועלו:</h3>\r\n          <ul>\r\n            {files.map(file => (\r\n              <li key={file.id}>\r\n                {file.name} ({new Date(file.created_at).toLocaleString()})\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FileUploader"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}